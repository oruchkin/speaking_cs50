{% extends "spapp/layout.html" %}
{% load static %}

{% block header %}

<link href="{% static 'css/profile.css' %}" rel="stylesheet">

{% endblock header %}



{% block body %}
<div class="container">
    <div class="main-body">

        <div class="row gutters-sm">

            <div class="col-md-4 mb-3">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex flex-column align-items-center text-center">
                            <img src="{{ target_user.email|gravatar_url:150 }}" alt="user_img"
                                class="rounded-circle" width="150">
                            <div class="mt-3">
                                <h4>{{target_user.username}}</h4>
                                <p class="text-secondary mb-1">{{member}}</p>
                                {% comment %} <button class="btn btn-primary">Follow</button>
                                <button class="btn btn-outline-primary">Message</button> {% endcomment %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mt-3">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item  d-flex justify-content-between align-items-center ">
                            <h6 class="mb-0"><a href="{% url 'profile' target_user.pk %}">Summary</a></h6>
                            {% comment %} <span class="text-secondary">Reputation: {{counter.reputation}}</span> {% endcomment %}
                        </li>
          
                        <li class="list-group-item  d-flex justify-content-between align-items-center ">
                            <h6 class="mb-0"><a href="{% url 'profile_answers' target_user.pk %}">Answers</a></h6>
                            
                            <span class="text-secondary">Answers: {{counter.answers_counter}}</span>
                        </li>


                        <li class="list-group-item  d-flex justify-content-between align-items-center ">
                            <h6 class="mb-0"><a href="{% url 'profile_questions' target_user.pk %}">Questions</a></h6>
                            <span class="text-secondary">Questions: {{counter.question_counter}}</span>
                        </li>


                        <li class="list-group-item  d-flex justify-content-between align-items-center ">
                            <h6 class="mb-0"><a href="{% url 'profile_theme' target_user.pk %}">Themes</a></h6>
                            <span class="text-secondary">Themes: {{counter.theme_counter}}</span>
                        </li>

                        <li class="list-group-item  d-flex justify-content-between align-items-center bg-info">
                            <h6 class="mb-0">Reputation</h6>
                            <span class="text-secondary">Reputation: {{counter.reputation}}</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="col-md-8">
                <div class="card mb-3">
                    <div class="card-body">
                        <h3>All - {{counter.reputation_counter}} reputations:</h3>
                        <table class="table">
                            <tbody>
                                {% if users_reputations %}
                                    {% for reputation in users_reputations %}
                                    <tr>
                                        <td>
                                            <div class="zadanie_pr">{{reputation.amount}}</div>
                                        </td>
                                        <td>
                                            {% comment %} <div class="table_text">  <a href="#">{{reputation.title|slice:25}}...</a> </div> {% endcomment %}
                                            <div class="table_text">  <a href="{{reputation|profile_reputation_link}}">{{reputation|profile_reputation_title}}</a> </div>
                                        </td>
                                        <td>
                                            <div class="table_text">{{reputation.created|date:"M d"}}</div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                {% else %}
                                    <tr>
                                        <td>
                                            <div class="zadanie_pr">No reputation yet</div>
                                        </td>
                                    </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>
</div>
{% endblock body %}